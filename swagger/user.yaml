---
# This is a Swagger (swagger.org) specification fragment. It is
# designed to be included into a top-level Swagger 'index', not
# as a standalone document.

endpoints:
  me:
    get:
      operationId: "get_me"
      tags:
        - user
      description: |
        This endpoint returns basic information about the authenticated user.
      consumes:
        - "application/json"
      produces:
        - "application/json"
      parameters:
        - name: "Authorization"
          in: "header"
          required: true
          type: "string"
      security:
      - api_key: []
      responses:
        200:
          description: "OK"
          schema:
            title: "me"
            properties:
              username:
                type: "string"
                description: |
                  The logged in user's ID.
                # example: "janedoe"
            required:
              - username
        400:
          description: "Bad Request"
        401:
          description: Unauthorized
        403:
          description: Forbidden
        404:
          description: "Not Found"
        429:
          description: "Too Many Requests"
        500:
          description: "Internal Server Error"
      x-amazon-apigateway-integration:
        httpMethod: GET
        responses:
          200:
            statusCode: "200"
          401:
            statusCode: "401"
          403:
            statusCode: "403"
          404:
            statusCode: "404"
          429:
            statusCode: "429"
          500:
            statusCode: "500"
          default:
            statusCode: "400"
        type: http
        uri: "https://${stageVariables.edxapp_host}/api/user/v1/me"
        requestParameters:
          integration.request.header.Authorization: "method.request.header.Authorization"
