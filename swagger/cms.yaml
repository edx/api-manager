---
# This is a Swagger (swagger.org) specification fragment. It is
# designed to be included into a top-level Swagger 'index', not
# as a standalone document.
endpoints:
  # CMS API (content ingestion)
  "/file_assets/{proxy+}":
    x-amazon-apigateway-any-method:
      parameters:
      - name: "proxy"
        in: "path"
      x-amazon-apigateway-integration:
        type: "http_proxy"
        uri: "https://${stageVariables.cms_host}/api/contentstore/v1/file_assets/{proxy}"
        httpMethod: "ANY"
        requestParameters:
          integration.request.path.proxy: "method.request.path.proxy"

  "/videos/uploads/{proxy+}":
    x-amazon-apigateway-any-method:
      parameters:
      - name: "proxy"
        in: "path"
      x-amazon-apigateway-integration:
        type: "http_proxy"
        uri: "https://${stageVariables.cms_host}/api/contentstore/v1/videos/uploads/{proxy}"
        httpMethod: "ANY"
        requestParameters:
          integration.request.path.proxy: "method.request.path.proxy"

  "/videos/images/{proxy+}":
    x-amazon-apigateway-any-method:
      parameters:
      - name: "proxy"
        in: "path"
      x-amazon-apigateway-integration:
        type: "http_proxy"
        uri: "https://${stageVariables.cms_host}/api/contentstore/v1/videos/images/{proxy}"
        httpMethod: "ANY"
        requestParameters:
          integration.request.path.proxy: "method.request.path.proxy"

  "/video_transcripts/{proxy+}":
    x-amazon-apigateway-any-method:
      parameters:
      - name: "proxy"
        in: "path"
      x-amazon-apigateway-integration:
        type: "http_proxy"
        uri: "https://${stageVariables.cms_host}/api/contentstore/v1/video_transcripts/{proxy}"
        httpMethod: "ANY"
        requestParameters:
          integration.request.path.proxy: "method.request.path.proxy"

  "/xblock/{proxy+}":
    x-amazon-apigateway-any-method:
      parameters:
      - name: "proxy"
        in: "path"
      x-amazon-apigateway-integration:
        type: "http_proxy"
        uri: "https://${stageVariables.cms_host}/api/contentstore/v1/xblock/{proxy}"
        httpMethod: "ANY"
        requestParameters:
          integration.request.path.proxy: "method.request.path.proxy"

